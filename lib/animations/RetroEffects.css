/* CRT Scanlines Effect for Cards */
@keyframes scanline-jitter {
  0% { transform: translateY(0px); }
  25% { transform: translateY(-2px); }
  50% { transform: translateY(2px); }
  75% { transform: translateY(-1px); }
  100% { transform: translateY(0px); }
}

@keyframes glitch-horizontal {
  0% {
    transform: translateX(0);
    clip-path: inset(0 0 0 0);
  }
  12% {
    transform: translateX(-2px);
    clip-path: inset(12% 0 70% 0);
  }
  24% {
    transform: translateX(0);
    clip-path: inset(0 0 0 0);
  }
  36% {
    transform: translateX(1.5px);
    clip-path: inset(32% 0 50% 0);
  }
  48% {
    transform: translateX(0);
    clip-path: inset(0 0 0 0);
  }
  60% {
    transform: translateX(-1px);
    clip-path: inset(55% 0 25% 0);
  }
  72% {
    transform: translateX(0);
    clip-path: inset(0 0 0 0);
  }
  84% {
    transform: translateX(1px);
    clip-path: inset(18% 0 68% 0);
  }
  100% {
    transform: translateX(0);
    clip-path: inset(0 0 0 0);
  }
}

@keyframes glitch-shift {
  0%, 42%, 46%, 60%, 63%, 67%, 72%, 100% {
    transform: skewX(0deg);
  }
  43% {
    transform: skewX(3deg) translateX(-2px);
  }
  44% {
    transform: skewX(-3deg) translateX(2px);
  }
  61% {
    transform: skewX(10deg) translateX(-3px) translateY(0.5px);
  }
  62% {
    transform: skewX(-10deg) translateX(3px) translateY(-0.5px);
  }
  65% {
    transform: skewX(4deg) translateX(-1.5px);
  }
  70% {
    transform: skewX(-8deg) translateX(-5px);
  }
  71% {
    transform: skewX(4deg) translateX(5px);
  }
}

/* Variante douce pour les boutons et liens */
@keyframes glitch-horizontal-soft {
  0% {
    transform: translateX(0);
    clip-path: inset(0 0 0 0);
  }
  20% {
    transform: translateX(-1.5px);
    clip-path: inset(8% 0 72% 0);
  }
  40% {
    transform: translateX(0);
    clip-path: inset(0 0 0 0);
  }
  60% {
    transform: translateX(1px);
    clip-path: inset(28% 0 52% 0);
  }
  80% {
    transform: translateX(0);
    clip-path: inset(0 0 0 0);
  }
  100% {
    transform: translateX(-0.5px);
    clip-path: inset(14% 0 66% 0);
  }
}

@keyframes glitch-shift-soft {
  0%, 55%, 75%, 100% {
    transform: skewX(0deg);
  }
  57% {
    transform: skewX(4deg) translateX(-1.5px);
  }
  58% {
    transform: skewX(-4deg) translateX(1.5px);
  }
  78% {
    transform: skewX(6deg) translateX(-2px);
  }
  79% {
    transform: skewX(-6deg) translateX(2px);
  }
}

/* Random glitch effects (TV wrapper) */
@keyframes glitch-random-shift {
  0% {
    transform: translate(0);
  }
  20% {
    transform: translate(-1px, 1px);
  }
  40% {
    transform: translate(-1px, -1px);
  }
  60% {
    transform: translate(1px, 1px);
  }
  80% {
    transform: translate(1px, -1px);
  }
  100% {
    transform: translate(0);
  }
}

@keyframes glitch-random-opacity {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.9;
  }
}

@keyframes glitch-random-skew {
  0%, 100% {
    transform: skewX(0deg);
  }
  30% {
    transform: skewX(1deg);
  }
  70% {
    transform: skewX(-1deg);
  }
}

@keyframes glitch-random-text-shadow {
  0%, 100% {
    text-shadow: none;
  }
  33% {
    text-shadow:
      -1px 0 rgba(255, 0, 0, 0.5),
      1px 0 rgba(0, 255, 255, 0.5);
  }
  66% {
    text-shadow:
      1px 0 rgba(255, 0, 0, 0.5),
      -1px 0 rgba(0, 255, 255, 0.5);
  }
}

@keyframes glitch-random-filter {
  0%, 100% {
    filter: none;
  }
  50% {
    filter: contrast(1.1) brightness(0.95);
  }
}

.crt-scanlines-hover {
  position: absolute;
  inset: 0;
  background-image: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.6) 0px,
    transparent 1px,
    transparent 2px,
    rgba(0, 0, 0, 0.6) 3px
  );
  opacity: 0;
  pointer-events: none;
  animation: scanline-jitter 0.1s infinite;
  transition: opacity 300ms;
}

.group:hover .crt-scanlines-hover {
  opacity: 1;
}

.glitch-on-hover {
  position: relative;
}

.group:hover .glitch-on-hover {
  animation: glitch-horizontal 0.65s infinite, glitch-shift 2.4s infinite;
}

.glitch-on-hover-subtle {
  position: relative;
  display: inline-block;
}

button:hover .glitch-on-hover-subtle,
a:hover > .glitch-on-hover-subtle,
.group:hover > .glitch-on-hover-subtle {
  animation: glitch-horizontal-soft 0.55s infinite, glitch-shift-soft 2s infinite;
}

.glitch-random-active {
  animation: glitch-random-text-shadow 0.2s ease-in-out;
}

.glitch-random-low.glitch-random-active {
  animation:
    glitch-random-shift 0.15s ease-in-out,
    glitch-random-opacity 0.15s ease-in-out,
    glitch-random-filter 0.15s ease-in-out,
    glitch-random-text-shadow 0.2s ease-in-out;
}

.glitch-random-medium.glitch-random-active {
  animation:
    glitch-random-shift 0.25s ease-in-out,
    glitch-random-opacity 0.25s ease-in-out,
    glitch-random-skew 0.25s ease-in-out,
    glitch-random-filter 0.25s ease-in-out,
    glitch-random-text-shadow 0.2s ease-in-out;
}

.glitch-random-high.glitch-random-active {
  animation:
    glitch-random-shift 0.3s ease-in-out,
    glitch-random-skew 0.3s ease-in-out,
    glitch-random-opacity 0.3s ease-in-out,
    glitch-random-filter 0.3s ease-in-out,
    glitch-random-text-shadow 0.2s ease-in-out;
}
